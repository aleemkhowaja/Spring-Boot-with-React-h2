{"ast":null,"code":"var _jsxFileName = \"E:\\\\TuComunidad-Grupo16-main\\\\TuComunidad\\\\src\\\\routes\\\\Votacion.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Routes, Route, Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Votacion(props) {\n  _s();\n\n  const [votacion, setVotacion] = useState([]);\n  const [title, setTitle] = useState('');\n  console.log(title);\n  let urlByTitulo = \"http://localhost:8080/votaciones/votacionesBytitulo/\" + title;\n  useEffect(() => {\n    fetch(urlByTitulo).then(res => res.json()).then(json => {\n      setVotacion(json);\n    });\n  }, []);\n\n  async function Submit() {\n    for (let i = 0; i < props.votaciones.length; i++) {\n      if (title == props.votaciones[i].titulo) {\n        await fetch(urlByTitulo).then(res => res.json()).then(json => {\n          setVotacion(json);\n        });\n      }\n    }\n  }\n\n  function votoFavor() {\n    let urlVotoFavor = \"http://localhost:8080/votaciones/aumentarVotosFavorById/\" + votacion[0].idvotaciones + \"/aumentarVotosFavor\";\n    fetch(urlVotoFavor, {\n      method: 'POST'\n    });\n    console.log(votacion[0]);\n    console.log(votacion[0].idvotaciones);\n  }\n\n  function votoContra() {\n    let urlVotoContra = \"http://localhost:8080/votaciones/aumentarVotosContraById/\" + votacion[0].idvotaciones + \"/aumentarVotosContra\";\n    fetch(urlVotoContra, {\n      method: 'POST'\n    });\n  }\n\n  if (votacion[0] == null) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Seleccione una votaci\\xF3n por su t\\xEDtulo:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: event => setTitle(event.target.value),\n        type: \"textfield\",\n        style: {\n          width: '500px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: Submit,\n        children: \"Seleccionar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), props.votaciones.map(elemento => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Titulo: \", elemento.titulo, \", Descripci\\xF3n: \", elemento.descripcion]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: votacion[0].descripcion\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Votos a Favor: \", votacion[0].numeroVotosFavor]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: votoFavor,\n        children: \"Voto Favor\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 65\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Votos en Contra \", votacion[0].numeroVotosContra]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: votoContra,\n        children: \"Voto Contra\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 67\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/TuComunidad\",\n          children: \"TuComunidad\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(Votacion, \"82Xv1QbUeuFgWwgg2wP64MG72Ys=\");\n\n_c = Votacion;\n\nvar _c;\n\n$RefreshReg$(_c, \"Votacion\");","map":{"version":3,"sources":["E:/TuComunidad-Grupo16-main/TuComunidad/src/routes/Votacion.jsx"],"names":["React","useState","useEffect","Routes","Route","Link","Votacion","props","votacion","setVotacion","title","setTitle","console","log","urlByTitulo","fetch","then","res","json","Submit","i","votaciones","length","titulo","votoFavor","urlVotoFavor","idvotaciones","method","votoContra","urlVotoContra","event","target","value","width","map","elemento","descripcion","numeroVotosFavor","numeroVotosContra"],"mappings":"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","sourcesContent":["import React, {useState, useEffect } from 'react';\nimport { Routes, Route, Link } from \"react-router-dom\";\n\nexport default function Votacion(props) {\n\n  const [votacion, setVotacion] = useState([]);\n  const [title, setTitle] = useState('');\n\n  console.log(title)\n\n  let urlByTitulo = \"http://localhost:8080/votaciones/votacionesBytitulo/\"+title;\n\n  \n\n  useEffect(() => {\n    fetch(urlByTitulo)\n    .then(res =>res.json())\n    .then(json => {setVotacion(json)})\n  }, []);\n\n  async function Submit(){\n    for(let i=0; i<props.votaciones.length; i++){\n      if(title == props.votaciones[i].titulo){\n        await fetch(urlByTitulo)\n          .then(res =>res.json())\n          .then(json => {setVotacion(json)})\n      }\n    }\n  }\n\n  function votoFavor(){\n\n    let urlVotoFavor = \"http://localhost:8080/votaciones/aumentarVotosFavorById/\"+votacion[0].idvotaciones+\"/aumentarVotosFavor\";\n\n    fetch(urlVotoFavor, {\n      method:'POST'\n    })\n    console.log(votacion[0])\n    console.log(votacion[0].idvotaciones)\n  }\n\n  function votoContra(){\n    let urlVotoContra = \"http://localhost:8080/votaciones/aumentarVotosContraById/\"+votacion[0].idvotaciones+\"/aumentarVotosContra\";\n    fetch(urlVotoContra, {\n      method:'POST'\n    })  \n  }\n\n\n  if(votacion[0] == null){\n    return(  \n      <div>\n        \n        <p>Seleccione una votación por su título:</p>\n        <input onChange={event => setTitle(event.target.value)} type=\"textfield\" style={{width: '500px'} }/>\n        <button onClick={Submit}>Seleccionar</button>\n          {props.votaciones.map(elemento => {          \n             return (\n              <div>\n                <ul><li><p>Titulo: {elemento.titulo}, Descripción: {elemento.descripcion}</p></li></ul>\n              </div>\n             ) \n          })} \n      </div>\n  \n    );\n  }else{    \n    return(  \n      <div> \n            <p>{votacion[0].descripcion}</p>\n            <p>Votos a Favor: {votacion[0].numeroVotosFavor}</p><button onClick={votoFavor}>Voto Favor</button>\n            <p>Votos en Contra {votacion[0].numeroVotosContra}</p><button onClick={votoContra}>Voto Contra</button>\n            <p>\n            <Link to=\"/TuComunidad\">TuComunidad</Link> \n            </p>\n      </div>\n  \n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}